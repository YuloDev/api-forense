# Configuración API-Forense
# Copia este archivo como .env y ajusta los valores según necesites

# ======================== SRI CONFIGURATION ========================
# URL del servicio WSDL del SRI (no cambiar a menos que el SRI lo actualice)
# SRI_WSDL=https://cel.sri.gob.ec/comprobantes-electronicos-ws/AutorizacionComprobantesOffline?wsdl

# Timeout para consultas al SRI (en segundos)
SRI_TIMEOUT=12

# ======================== PDF CONFIGURATION ========================
# Tamaño máximo de PDF permitido (en bytes) - 10MB por defecto
MAX_PDF_BYTES=10485760

# Longitud mínima de texto para considerar un PDF como textual (no escaneado)
TEXT_MIN_LEN_FOR_DOC=50

# ======================== OCR CONFIGURATION ========================
# DPI para renderizar páginas PDF antes del OCR (mayor = mejor calidad, más lento)
RENDER_DPI=260

# Idiomas para EasyOCR (separados por coma)
EASYOCR_LANGS=es,en

# Usar GPU para OCR (true/false) - requiere CUDA instalado
EASYOCR_GPU=false

# ======================== COMPARISON TOLERANCES ========================
# Tolerancia para comparar cantidades
CMP_QTY_EPS=0.001

# Tolerancia para comparar precios
CMP_PRICE_EPS=0.01

# Tolerancia para comparar totales
CMP_TOTAL_EPS=0.02

# Umbral mínimo de similitud para emparejar productos (0.0 a 1.0)
CMP_MATCH_THRESHOLD=0.60

# ======================== RISK ANALYSIS CONFIGURATION ========================
# Días máximos permitidos entre fecha de creación PDF y fecha de emisión
MAX_DIAS_CREACION_EMISION_OK=30

# Días máximos permitidos entre fecha de modificación y creación
MAX_DIAS_MOD_VS_CREACION_OK=10

# Tamaño mínimo esperado para PDF de 1 página (bytes)
ONEPAGE_MIN_BYTES=20000

# Tamaño máximo esperado para PDF textual de 1 página (bytes)
ONEPAGE_MAX_BYTES_TEXTUAL=1200000

# Tamaño máximo esperado para PDF escaneado de 1 página (bytes)
ONEPAGE_MAX_BYTES_ESCANEADO=3500000

# ======================== AWS CONFIGURATION ========================
# Credenciales para AWS Textract OCR
# AWS_ACCESS_KEY_ID=AKIA...
# AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYzEXAMPLEKEY
# AWS_DEFAULT_REGION=us-east-1

# ======================== SERVER CONFIGURATION ========================
# Host del servidor (0.0.0.0 para acceso externo, 127.0.0.1 solo local)
UVICORN_HOST=127.0.0.1

# Puerto del servidor
UVICORN_PORT=8005

# Modo de desarrollo (true para recarga automática)
UVICORN_RELOAD=true